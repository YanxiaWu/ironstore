<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!--Now my CSS is linked to my html-->

    <link rel="stylesheet" href="style.css" />


    <style>
*{
    transition: all 1s;
}

body{
    padding: 10px;
    background-color: lightseagreen;
}

section{
    display: flex;
    flex-direction: row;
}


img {
    width: 50px;
}

#cart{
    background-color:salmon;
}

#cart, #items{
    width: 50vw;
}

h1{
    color:#7c32ff;
}
/*selecting a tag*/

p{
    color:green;
    text-decoration: line-through;
}

/*Ids have hashtags*/
#two {
    background-color:rebeccapurple;
}

/*classes have dots*/
.example {
    border: 5px dashed purple;
    margin: 5px;
}

    </style>

   <script>
        let items = [
    {
      name: 'Ironhack T',
      price: 10,
      image: 'https://miro.medium.com/max/5190/1*aVsUjp1zvlRb1799gDjbLA@2x.jpeg'
    },
    {
      name: 'Ironhack Hoodie',
      price: 15,
      image: 'https://m.media-amazon.com/images/I/B1i3u9-Q-KS._AC_CLa%7C2140%2C2000%7CB1wqstnnTfS.png%7C0%2C0%2C2140%2C2000%2B0.0%2C0.0%2C2140.0%2C2000.0_UL1500_.png'
    },
    {
      name: 'Ironhack Sticker',
      price: 2,
      image:'https://e7.pngegg.com/pngimages/887/803/png-clipart-ironhack-web-development-job-startup-company-design-blue-user-interface-design-thumbnail.png'
    },
    {
      name: 'Ironhack Mug',
      price: 8,
      image: 'https://d0bb7f9bf11b5ad1a6b2-6175f06f5e3f64e15abbf67415a276ec.ssl.cf1.rackcdn.com/product-images/designlab/11-oz-traditional-ceramic-coffee-mugs-7102-white1582888132.jpg'
    },
  ]


    let cart = []


    let list = document.querySelector('#items')//the value of list es the first #items child 

    items.forEach((item,i)=>{
    list.innerHTML += `<li>
        <div>Name: ${item.name}</div>
        <div>price: $${item.price}</div>
        <image src="${item.image}" />
        <input type="number" placeholder="quantity" onchange='inputChange(${i}, "${item.name}", "${item.price}", "${item.image}")'/>
        <button>Buy Item</button>
    </li>`
})


function showCart() {
    let cartItems = document.querySelector('#cart')
    let grandTotal = 0; 
    cartItems.innerHTML = ''
    cart.forEach((item,i)=>{
        grandTotal+= item.price * item.quantity
        cartItems.innerHTML += `<li>
            <div>Name: ${item.name}</div>
            <div>Quantity: ${item.quantity}</div>
            <image src="${item.image}" />
        </li>`
    })

    document.querySelector('#grandTotal').innerHTML = '$' +grandTotal
 
}



function inputChange(i, name, price,image) {
    console.log('I want to buy the ',i,' item named, ',name, ' that costs $',price)
    let listItem = document.querySelectorAll('li')[i]
    let input = listItem.querySelector('input')
    let button = listItem.querySelector('button')

    button.onclick = function(){
        cart.push({
            quantity: input.value,
            name: name,
            price: price,
            image: image
        })
        console.log(cart)
        showCart()
    }

}

    </script>
</head>

<body>
    <section>
        <div>
            <h2>Items</h2>
            <ul id="items"></ul>
        </div>
        <div>
            <h2>Cart <span id="grandTotal">$0</span></h2>
            <ul id="cart"></ul>
        </div>
    </section>

    <div class="example">This is a div</div>
  
    <div class="example" id="two">This is a div 2 </div>

    <div class="example"> This is a div 3</div>

    <i>This will be italic text</i>
    <b>This will be bold text</b>    
    <h1>This is a certain size</h1>
    <p>This is for paragraphs</p>

</body>

</html>